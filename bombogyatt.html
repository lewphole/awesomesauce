<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>tuffington</title>

<style>
body {
  margin: 0;
  height: 100vh;
  font-family: "Times New Roman", serif;
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.4s;
  overflow: hidden;
}

/* === Envelope container === */
.envelope-container {
  position: relative;
  text-align: center;
  cursor: pointer;
}

/* === Envelope === */
.envelope {
  position: relative;
  width: 520px;
  height: 340px;
  background: #e6e6e6;
  border: 2px solid #ccc;
}

/* back / bottom of envelope */
.envelope-back {
  position: absolute;
  inset: 0;
  background: #e6e6e6;
  z-index: 1;
}

/* front flap */
.envelope-flap {
  position: absolute;
  inset: 0;
  background: #ddd;
  clip-path: polygon(0 0, 100% 0, 50% 55%);
  transform-origin: top;
  transition: transform 0.8s;
  z-index: 3;
}

/* === Letter (SEPARATE from envelope) === */
.letter {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 440px;
  max-height: 360px;
  background: #fffdf7;
  padding: 30px;
  border-radius: 10px;
  box-sizing: border-box;
  overflow-y: auto;

  transform: translate(-50%, -10%);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.6s ease, transform 0.6s ease;
  z-index: 5;
}

/* scrollbar */
.letter::-webkit-scrollbar {
  width: 8px;
}
.letter::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 10px;
}
.letter::-webkit-scrollbar-track {
  background: #f2f2f2;
}

/* open state */
.open + .letter {
  opacity: 1;
  pointer-events: auto;
  transform: translate(-50%, -45%);
}

/* flap open */
.open .envelope-flap {
  transform: rotateX(180deg);
}

/* text */
.letter h1 {
  margin-top: 0;
  font-size: 1.8em;
}

.question {
  margin-top: 40px;
  text-align: center;
  font-size: 1.4em;
}

.choices {
  margin-top: 15px;
  font-size: 1.3em;
}

.choices label {
  margin: 0 15px;
}

/* hint */
.hint {
  margin-top: 20px;
  font-size: 1.3em;
  color: #555;
}

/* confetti */
.confetti {
  position: fixed;
  width: 8px;
  height: 8px;
  animation: fall 3s linear infinite;
  z-index: 10;
}

@keyframes fall {
  from { transform: translateY(-10px); }
  to { transform: translateY(110vh); }
}
</style>
</head>

<body>

<div class="envelope-container closed openable" id="container">
  <div class="envelope">
    <div class="envelope-back"></div>
    <div class="envelope-flap"></div>
  </div>
  <div class="hint">click for a surprise</div>
</div>

<div class="letter" id="letter">
  <h1>to: adrian</h1>

  <p>
    lately i've been thinking perhaps i am a coward.
    i've been wondering for weeks if or when it would ever be the right time to say something like this, but i figured
    if not now then when?
    also corny + yap alert ðŸ˜… i hope you stay to read the full thing.
  </p>

  <p>
    i really, really like you. i think you're pure, kind, mature, divine. you're funny, considerate, handsome, and just a lot of things
    i wish i could be. whenever my mind wanders, it wanders back to you and your stupid face and your stupid hair and your stupid laugh
    and your stupid smile and your stupid jokes fml bro genuinely. i think you are everything i could ask for, that i didn't,
    but you still showed up anyway.
  </p>

  <p>
    ever since i've gotten the privilege to know you, your presence has slowly trickled into everything i do. 
    whether it was drawing, writing, making things, etc. the feelings that i had grown toward you manifested in those forms.
    one of my many reasons i play piano is because of you. not FOR you exactly, but BECAUSE of you. it's been a long
    time since i last played with so much emotion and excitement, and that's when i think i finally realized it.
  </p>

  <p>
    i really appreciate everything you've done for me so far, whether it's been listening to my endless rambling or wandering around dts aimlessly
    with nothing to do. i don't think i will ever mind just... doing nothing with you. your company was and is more than i could've ever asked for.
    i wouldn't mind hearing miniscule useless details of your day if it meant i could learn just a little more about you or hear your voice. you've
    done irreparable damage to the songs i love and the way i view my life and myself, but that's definitely a blessing.
  </p>

  <p>
    i hope i've also influenced you in some way as well. i doubt that i live in your mind before you go to bed or when you wake up
    in the way that you do mine, but that's okay. i just want you to recognize that you've become someone truly special to me
    in a way that i have never felt before
    with that being said - 
  </p>

  <div class="question">
    will you be my valentine?
    <div class="choices">
      <label><input type="checkbox" id="yes"> yes</label>
      <label><input type="checkbox" id="no"> no</label>
    </div>
  </div>
</div>

<script>
const container = document.getElementById("container");
const letter = document.getElementById("letter");
const yes = document.getElementById("yes");
const no = document.getElementById("no");

let opened = false;

container.addEventListener("click", () => {
  if (!opened) {
    container.classList.add("open");
    letter.previousElementSibling.classList.add("open");
    opened = true;
  }
});

yes.addEventListener("change", () => {
  if (yes.checked) {
    no.checked = false;
    document.body.style.background = "white";
    confetti();
  }
});

no.addEventListener("change", () => {
  if (no.checked) {
    yes.checked = false;
    document.body.style.background = "red";
  }
});

function confetti() {
  for (let i = 0; i < 120; i++) {
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random() * 100 + "vw";
    c.style.background = `hsl(${Math.random()*360},100%,50%)`;
    c.style.animationDuration = Math.random()*2 + 2 + "s";
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 3000);
  }
}
</script>

</body>
</html>
